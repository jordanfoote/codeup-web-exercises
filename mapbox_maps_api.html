<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <title>Mapbox</title>
        <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.css' rel='stylesheet' />
        <style>
            #map {
                width: 900px;
                height: 700px;
            }
        </style>
    </head>

    <body>

    <div id="map"></div>

    <script src="js/keys.js"></script>
    <script src="js/mapbox-geocoder-utils.js"></script>
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.js'></script>

    <script>

        mapboxgl.accessToken = MAP_KEY;
        var map = new mapboxgl.Map({
            container: 'map',
            style: 'mapbox://styles/mapbox/streets-v9',
            zoom: 3.5,
            center: [-98.20245, 38.34589]
        });

        // geocode("219 S Grand Ave, Lyons, KS 67554", MAP_KEY).then(function(result) {
        //     console.log(result);
        //     map.setCenter(result);
        //     map.setZoom(20);
        // });

        var marker = new mapboxgl.Marker()
            .setLngLat([restaurants.LngLat])
            .addTo(map);
        map.on('click', function() {
            var popup = new mapboxgl.Popup()
                .setLngLat([restaurants.LngLat])
                .setHTML("<p>restaurants.title</p>")
                .addTo(map)
        });

        var restaurants = [
            {
                title: 'Velvet Taco',
                cuisine: 'Mexican',
                address: '3411 McKinney Ave, Dallas, TX 75204',
                LngLat: '96.79891, 32.8056'
            },
            {
                title: 'Thai Thai Asian Bistro',
                cuisine: 'Thai',
                address: '3522 24th Ave NW, Norman, OK 73069',
                LngLat: '-97.477782, 35.260945'
            },
            {
                title: 'Kiki\'s Sandbar',
                cuisine: 'Seafood',
                address: '183 Barry Ave, Little Torch Key, FL 33042',
                LngLat: '-81.38732, 24.66895'
            }
        ]

    </script>

    </body>
</html>